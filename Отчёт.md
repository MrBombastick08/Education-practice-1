# Мебельная компания "Комфорт"

## Описание проекта

Веб-приложение для автоматизации управления продукцией мебельной компании "Комфорт". Система позволяет отслеживать информацию о продукции, управлять производственными процессами и рассчитывать необходимое сырье для производства.

Данный проект разработан в рамках учебной практики для студентов специальности "Информационные системы и программирование".

## Функционал

- Просмотр списка продукции
- Добавление и редактирование данных о продукции
- Удаление продукции
- Просмотр списка цехов для производства конкретного продукта
- Расчет количества сырья, необходимого для производства продукции с учетом потерь (пока не работает)

## Требования к системе

- Python 3.8 или новее
- PostgreSQL 12 или новее
- Библиотеки Python (указаны в requirements.txt)

## Установка и настройка

### 1. Подготовка окружения

```bash
# Создание виртуального окружения
python -m venv venv

# Активация виртуального окружения
venv\Scripts\activate
```

### 2. Установка зависимостей

```bash
pip install Flask Flask-SQLAlchemy Flask-WTF psycopg2-binary python-dotenv pandas openpyxl
```

### 3. Настройка базы данных PostgreSQL

1. Установите и запустите PostgreSQL
2. Создайте базу данных `furniture_company`
3. Создайте пользователя `postgres` с паролем `p4v17102006` и предоставьте ему права на базу данных
4. Скопируйте все Excel-файлы (`*.xlsx`) в корневую директорию проекта
5. Запустите скрипт инициализации базы данных:
```bash
python init_db.py
```

### 4. Подготовка статических файлов

1. Скачайте файлы `logo.png` и `favicon.ico` из ресурсов проекта
2. Поместите их в папку `static/img/`

## Запуск приложения

```bash
python app.py
```

В терминале напишет веб-адрес приложения

## Известные проблемы и ограничения

### Front-end
- Левое меню (sidebar) не красиво выглядит (залезает на topbar)
  
### Калькулятор сырья
- Не работает (всё время выдаёт ошибку)

### Общие проблемы
- При повторном запуске скрипта `init_db.py` могут возникать ошибки дублирования данных
- Не все функции валидации форм полностью отлажены
- Некоторые страницы могут отображаться некорректно на мобильных устройствах

## Структура проекта

```
furniture_app/
├── app.py                  # Основной файл приложения
├── config.py               # Конфигурация приложения
├── forms.py                # Формы для валидации ввода
├── init_db.py              # Скрипт инициализации базы данных
├── models.py               # Модели данных
├── services.py             # Сервисные функции (расчеты)
├── requirements.txt        # Зависимости проекта
├── static/
│   ├── css/
│   │   └── style.css       # CSS-стили приложения
│   ├── img/
│   │   ├── logo.png        # Логотип компании
│   │   └── favicon.ico     # Иконка приложения
│   └── js/
│       └── main.js         # JavaScript для интерактивности
└── templates/              # HTML-шаблоны
    ├── base.html
    ├── index.html
    ├── products.html
    ├── product_form.html
    ├── workshops.html
    └── material_calculator.html
```
